{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\n\nvar app = angular.module('shortyApp', ['angular-loading-bar', 'yaru22.angular-timeago'], function($interpolateProvider) {\n\t$interpolateProvider.startSymbol('<%');\n\t$interpolateProvider.endSymbol('%>');\n});\n/** Select on click module directive **/\napp.directive('selectOnClick', function ($window) {\n\treturn {\n\t\tlink: function (scope, element) {\n\t\t\telement.on('click', function () {\n\t\t\t\tvar selection = $window.getSelection();        \n\t\t\t\tvar range = document.createRange();\n\t\t\t\trange.selectNodeContents(element[0]);\n\t\t\t\tselection.removeAllRanges();\n\t\t\t\tselection.addRange(range);\n\t\t\t});\n\t\t}\n\t}\n});\n\napp.controller('linksController', function($scope, $http) {\n\n\t$scope.links = [];\n\t$scope.loading = false;\n\t$scope.error = null;\n\n\t$scope.init = function() {\n\t\t$scope.loading = true;\n\t\t\n\t\t$http.get('/api/links').\n\t\tsuccess(function(data, status, headers, config) {\n\t\t\t$scope.links = data;\n\t\t\t$scope.loading = false;\n\n\t\t})\n\t}\n\n\t$scope.shortenLink = function() {\n\t\t$scope.loading = true;\n\n\t\t$http.post('/api/links', {\n\t\t\turl: $scope.link.url,\n\t\t\tdone: $scope.links.done\n\t\t}).success(function(data, status, headers, config) {\n\t\t\t$scope.links.unshift(data);\n\t\t\t$scope.link = '';\n\t\t\t$scope.loading = false;\n\t\t\t$scope.error = false;\n\t\t}).error(function(data) {\n\t\t\t$scope.loading = false;\n\t\t\t$scope.error = data.url[0];\n\t\t});\n\t};\n\n\n\t$scope.deleteLink = function(index) {\n\t\t$scope.loading = true;\n\n\t\tvar link = $scope.links[index];\n\n\t\t$http.delete('/api/links/' + link.id)\n\t\t.success(function() {\n\t\t\t$scope.links.splice(index, 1);\n\t\t\t$scope.loading = false;\n\t\t\t$scope.error = null;\n\n\t\t});;\n\t};\n\n\n\t$scope.init();\n\n})\n.config(['cfpLoadingBarProvider', function(cfpLoadingBarProvider) {\n\tcfpLoadingBarProvider.includeSpinner = false;\n}]);"],"sourceRoot":"/source/"}